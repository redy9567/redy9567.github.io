---
title: Unity Cave Population Tool Guide
permalink: /toolProjects/population/guide
---

<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=2NBgzUtEeyB-Xtpr9bm1CU63iRYy6WH7X7H8D6hnGeGOdYIK6ybNg2f2wWL3FnNv0a94IlCIIh4DlXBG1BIXW43qJkZ0mILFEVSiyyQMWHKCYqoUBKs_Zdq7Ku0clX38');.lst-kix_9artjyy9xczu-1>li:before{content:"\0025cb  "}ul.lst-kix_b671akin81d4-1{list-style-type:none}ul.lst-kix_b671akin81d4-2{list-style-type:none}ol.lst-kix_list_1-0{list-style-type:none}ul.lst-kix_b671akin81d4-0{list-style-type:none}.lst-kix_9artjyy9xczu-2>li:before{content:"\0025a0  "}ul.lst-kix_b671akin81d4-5{list-style-type:none}.lst-kix_b671akin81d4-8>li:before{content:"\0025a0  "}ul.lst-kix_b671akin81d4-6{list-style-type:none}ul.lst-kix_b671akin81d4-3{list-style-type:none}ul.lst-kix_b671akin81d4-4{list-style-type:none}.lst-kix_9artjyy9xczu-3>li:before{content:"\0025cf  "}.lst-kix_b671akin81d4-6>li:before{content:"\0025cf  "}.lst-kix_b671akin81d4-7>li:before{content:"\0025cb  "}ul.lst-kix_b671akin81d4-7{list-style-type:none}ul.lst-kix_b671akin81d4-8{list-style-type:none}.lst-kix_9artjyy9xczu-4>li:before{content:"\0025cb  "}.lst-kix_b671akin81d4-4>li:before{content:"\0025cb  "}.lst-kix_b671akin81d4-1>li:before{content:"\0025cb  "}.lst-kix_b671akin81d4-5>li:before{content:"\0025a0  "}ul.lst-kix_list_1-3{list-style-type:none}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}ul.lst-kix_list_1-2{list-style-type:none}.lst-kix_b671akin81d4-2>li:before{content:"\0025a0  "}ul.lst-kix_list_1-7{list-style-type:none}ul.lst-kix_list_1-8{list-style-type:none}.lst-kix_b671akin81d4-3>li:before{content:"\0025cf  "}ul.lst-kix_list_1-5{list-style-type:none}.lst-kix_9artjyy9xczu-0>li:before{content:"\0025cf  "}ul.lst-kix_list_1-6{list-style-type:none}.lst-kix_b671akin81d4-0>li:before{content:"\0025cf  "}ul.lst-kix_9artjyy9xczu-2{list-style-type:none}ul.lst-kix_9artjyy9xczu-3{list-style-type:none}ul.lst-kix_9artjyy9xczu-4{list-style-type:none}ul.lst-kix_9artjyy9xczu-5{list-style-type:none}ul.lst-kix_9artjyy9xczu-6{list-style-type:none}ul.lst-kix_9artjyy9xczu-7{list-style-type:none}ul.lst-kix_9artjyy9xczu-8{list-style-type:none}.lst-kix_9artjyy9xczu-7>li:before{content:"\0025cb  "}.lst-kix_9artjyy9xczu-5>li:before{content:"\0025a0  "}.lst-kix_9artjyy9xczu-6>li:before{content:"\0025cf  "}.lst-kix_9artjyy9xczu-8>li:before{content:"\0025a0  "}ul.lst-kix_9artjyy9xczu-0{list-style-type:none}ul.lst-kix_9artjyy9xczu-1{list-style-type:none}.lst-kix_list_1-0>li:before{content:"" counter(lst-ctn-kix_list_1-0,decimal) " "}.lst-kix_list_1-1>li:before{content:" "}.lst-kix_list_1-2>li:before{content:" "}.lst-kix_list_1-3>li:before{content:" "}.lst-kix_list_1-4>li:before{content:" "}ol.lst-kix_list_1-0.start{counter-reset:lst-ctn-kix_list_1-0 0}.lst-kix_list_1-0>li{counter-increment:lst-ctn-kix_list_1-0}.lst-kix_list_1-7>li:before{content:" "}.lst-kix_list_1-5>li:before{content:" "}.lst-kix_list_1-6>li:before{content:" "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_1-8>li:before{content:" "}ol{margin:0;padding:0}table td,table th{padding:0}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Source Sans Pro";font-style:normal}.c12{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:36pt;font-family:"Playfair Display";font-style:normal}.c14{color:#eab573;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:24pt;font-family:"Playfair Display";font-style:normal}.c10{color:#eab573;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Playfair Display";font-style:normal}.c16{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Source Sans Pro";font-style:normal}.c15{color:#b7b7b7;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Source Sans Pro";font-style:normal}.c1{margin-left:72pt;padding-top:4pt;padding-left:0pt;padding-bottom:4pt;line-height:1.1500000000000001;text-align:left}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{padding-top:24pt;padding-bottom:9.8pt;line-height:1.1500000000000001;page-break-after:avoid;text-align:left}.c0{padding-top:4pt;padding-bottom:4pt;line-height:1.1500000000000001;text-align:left;height:12pt}.c3{padding-top:4pt;padding-bottom:4pt;line-height:1.1500000000000001;text-align:center}.c19{padding-top:0pt;padding-bottom:15pt;line-height:1.1500000000000001;text-align:left}.c7{padding-top:4pt;padding-bottom:4pt;line-height:1.1500000000000001;text-align:left}.c18{padding-top:0pt;padding-bottom:15pt;line-height:1.1500000000000001;text-align:center}.c5{background-color:#ffffff;max-width:540pt;padding:36pt 36pt 36pt 36pt}.c8{margin-left:108pt;padding-left:0pt}.c6{padding:0;margin:0}.c11{margin-left:36pt;padding-left:0pt}.c4{height:12pt}.c17{color:#eab573}.title{padding-top:0pt;color:#000000;font-size:36pt;padding-bottom:15pt;font-family:"Playfair Display";line-height:1.1500000000000001;text-align:center}.subtitle{padding-top:0pt;color:#000000;font-size:12pt;padding-bottom:10pt;font-family:"Playfair Display";line-height:1.1500000000000001;text-align:left}li{color:#000000;font-size:12pt;font-family:"Source Sans Pro"}p{margin:0;color:#000000;font-size:12pt;font-family:"Source Sans Pro"}h1{padding-top:24pt;color:#eab573;font-weight:700;font-size:20pt;padding-bottom:9.8pt;font-family:"Playfair Display";line-height:1.1500000000000001;page-break-after:avoid;text-align:left}h2{padding-top:10pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:10pt;font-family:"Playfair Display";line-height:1.1500000000000001;page-break-after:avoid;text-align:left}h3{padding-top:10pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:10pt;font-family:"Source Sans Pro";line-height:1.1500000000000001;page-break-after:avoid;text-align:left}h4{padding-top:10pt;color:#4f81bd;font-size:16pt;padding-bottom:10pt;font-family:"Times New Roman";line-height:1.1500000000000001;page-break-after:avoid;font-style:italic;text-align:left}h5{padding-top:0pt;color:#000000;font-size:14pt;padding-bottom:10pt;font-family:"Times New Roman";line-height:1.1500000000000001;text-align:left}h6{padding-top:0pt;color:#000000;font-size:12pt;padding-bottom:10pt;font-family:"Times New Roman";line-height:1.1500000000000001;text-align:left}</style></head><body class="c5"><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 116.67px; height: 115.20px;"><img alt="" src="{{site.url}}{{site.baseurl}}\assets\img\toolProjects\population\populationGuide\image1.png" style="width: 116.67px; height: 115.20px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4 c19 title" id="h.fpp89ekqrc87"><span class="c12"></span></p><p class="c18 title" id="h.agi6vwxvqgdp"><span class="c12">Cave Rock Population </span></p><p class="c18 title" id="h.2xsny2kxyjo7"><span>Tool Guide</span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c3"><span class="c2">Written by: Brandon L&rsquo;Abbe</span></p><p class="c3"><span>Project Nautilus</span><hr style="page-break-before:always;display:none;"></p><p class="c7"><span>Project Nautilus</span></p><h1 class="c13"><span class="c17">1. </span><span>Purpose</span></h1><p class="c7"><span>The Cave Rock Population Tool is a tool that will generate many prefabs onto a mesh. In practicality, this was intended to be used to generate rocks within a cave mesh, whether that be rocks that would be generated on the seafloor, or stalactites placed upon the ceiling. The user then would be able to go into the scene and delete any unnecessary rocks, or adjust rocks that seem a little bit out of place, which should be faster than placing all of the rocks by hand.</span></p><h1 class="c13" id="h.ui3bihbw57f9"><span class="c10">2. Method&nbsp;</span></h1><p class="c7"><span>This tool works by inputting a prefab. Once a prefab has been connected to the tool, the tool will search for the first mesh within that prefab (which should only be the cave). The user will then be able to use the tool to either visualize the mesh (as either vertices or vertex normals) or generate the rocks onto the cave mesh. This tool allows the user to input a rock prefab and choose whether they would like the prefab to be placed on the ceiling of the cave or the floor of the cave. When the user chooses to generate rocks in the cave, the tool will process all of the mesh&rsquo;s vertex normals to determine whether each vertex is on the ceiling of the cave, or on the floor. This determination is made by calculating the Vector Dot production between the vertex normal and the world&#39;s universal up vector. This dot product will return a positive value if the vertex is pointing upwards (therefore on the floor), or a negative value if the vertex is pointing downwards (therefore on the ceiling). The tool also allows you to set an Angle of Tolerance. This value represents the angle above and below the horizontal plane that you would not like to represent ceiling or ground vertices (you wouldn&rsquo;t want a stalactite placed on a wall just because it&rsquo;s vertex was pointed 1 degree upward!).</span></p><h1 class="c13"><span class="c10">3. Tool Setup</span></h1><p class="c7"><span class="c2">To access the tool, you must drop down the &ldquo;My Tools&rdquo; menu from the list of drop downs at the top of the Unity Window. In that dropdown, select &ldquo;Cave Population&rdquo;. If you do not see either of these, then you may not have the Tool installed in your version of the repo! To confirm this, if you go to Assets/Scripts/Tools, you should see two scripts named &ldquo;CavePopulation&rdquo; and &ldquo;MeshVisualizer&rdquo;. If you don&rsquo;t see these, then you do not have the tool in your version of the repository. Once you open the tool, it will open a Unity tab that you can dock to any area of your editor.</span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><h1 class="c13"><span class="c10">4. Tool Settings &amp; Usage</span></h1><p class="c7"><span class="c2">Attached below is a screenshot of what the entire tool window with all of it&rsquo;s settings looks like:</span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 456.00px; height: 411.00px;"><img alt="" src="{{site.url}}{{site.baseurl}}\assets\img\toolProjects\population\populationGuide\image4.png" style="width: 456.00px; height: 411.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c7"><span class="c2">Here I will explain every part of the tool window in the form of a bulleted list. Indented sections are hidden behind it&rsquo;s parent section.</span></p><p class="c0"><span class="c2"></span></p><ul class="c6 lst-kix_b671akin81d4-0 start"><li class="c7 c11 li-bullet-0"><span class="c2">Cave Object [Object Input]: Here you will place the world object that represents the cave in your Unity scene.</span></li></ul><ul class="c6 lst-kix_b671akin81d4-1 start"><li class="c1 li-bullet-0"><span class="c2">Should Visualize Mesh? [Checkbox]: Will toggle whether you are visualizing the vertex data within the scene.</span></li></ul><ul class="c6 lst-kix_b671akin81d4-2 start"><li class="c7 c8 li-bullet-0"><span class="c2">Visualizer Mode [Drop Down]: <br>If set to &ldquo;Vertex&rdquo;, it will visualize the vertices in your scene as yellow spheres. If you have the bounding sphere enabled, any vertices within the bounding sphere will be colored red. <br>If set to &ldquo;Normal/No Indication&rdquo;, it will visualize the vertex normals in your scene as yellow lines. <br>If set to &ldquo;Normal/Vertical Indication&rdquo;, it will visualize the vertex normals in your scenes as lines, and give them color depending on which way the script determines them to be facing. Red lines represent the ground, Blue lines represent the ceiling, and Yellow lines represent vertices that are neither ceiling nor ground based off of the &ldquo;Angle of Tolerance&rdquo; that you set below.</span></li><li class="c7 c8 li-bullet-0"><span class="c2"># of Items [Slider 1-1000]: Determines how many vertices are visualized in the scene at one time. Setting this amount too high has shown to drop the FPS of the editor down to an unbearable rate, so I have capped this amount at 1,000. </span></li><li class="c7 c8 li-bullet-0"><span class="c2">Showing Item # through # out of # [Text Box]: Shows you which vertices or vertex normals you are using based on their index numbers.</span></li><li class="c7 c8 li-bullet-0"><span class="c2">Previous Set/Next Set [Buttons]: These allow you to scroll through which vertices you are viewing, since there is a cap on how many you can view at a time.</span></li></ul><ul class="c6 lst-kix_b671akin81d4-1"><li class="c1 li-bullet-0"><span class="c2">Angle of Tolerance [Slider 0-75]: The number of degrees above and below the horizontal that you would not like to be considered ceiling or floor.</span></li><li class="c1 li-bullet-0"><span class="c2">Regression Into Mesh [Slider 0.0-1.0]: The length that the rocks will be placed inside of the cave mesh. Setting 0.0 would place the rocks on top of the vertices (which look unnatural). Setting 1.0 would place the rocks 1 unit within the cave mesh so that they overlap and look more natural.</span></li><li class="c1 li-bullet-0"><span class="c2">Gen Object Prefab [Prefab Object]: The rock prefab that you would like to be generated into the cave.</span></li><li class="c1 li-bullet-0"><span class="c2">Is Ceiling? [Checkbox]: Determines whether the rock prefab will be generated into the ceiling or into the floor.</span></li><li class="c1 li-bullet-0"><span class="c2">Should Rotate to Normals? [Checkbox]: When checked, all generated rocks will be rotated so that they face the same direction as the vertex that they were generated on.</span></li><li class="c1 li-bullet-0"><span class="c2">Bound Gen to Sphere? [Checkbox]: When checked, a sphere will be created in the scene called &ldquo;Cave Tool Bounding Sphere&rdquo; and all generated objects will only generate on vertices that are within this sphere. The radius of this sphere is determined by the X scale on the transform,so when manipulating this object in the scene it is recommended to link the X, Y, and Z scale together and manipulate them in sync.</span></li><li class="c1 li-bullet-0"><span class="c2">Distribution Percentage [Slider 1-100%]: What percentage of the floor/ceiling vertices should generate Rocks?</span></li><li class="c1 li-bullet-0"><span class="c2">Populate Cave [Button]: Populates the cave ceiling/floor using the settings above. All of the rocks will be placed in an empty game object called &ldquo;Rocks Generated&rdquo;. This should make it easy to delete all of them if you mess up</span></li></ul><h1 class="c13" id="h.302qc690fgmc"><span class="c10">5. Images</span></h1><p class="c7"><span class="c2">Mesh normal visualization:</span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 594.14px; height: 403.50px;"><img alt="" src="{{site.url}}{{site.baseurl}}\assets\img\toolProjects\population\populationGuide\image5.png" style="width: 761.81px; height: 403.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7"><span class="c2">Vertices visualized with the Bounding Sphere:</span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 382.67px;"><img alt="" src="{{site.url}}{{site.baseurl}}\assets\img\toolProjects\population\populationGuide\image6.png" style="width: 720.00px; height: 382.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c7"><span class="c2">Generating stalactites into the cave:</span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 342.67px;"><img alt="" src="{{site.url}}{{site.baseurl}}\assets\img\toolProjects\population\populationGuide\image2.png" style="width: 720.00px; height: 342.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c2"></span></p><p class="c0"><span class="c2"></span></p><p class="c7"><span class="c2">Generated rocks on the cave floor:</span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 720.00px; height: 340.00px;"><img alt="" src="{{site.url}}{{site.baseurl}}\assets\img\toolProjects\population\populationGuide\image3.png" style="width: 720.00px; height: 340.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c13" id="h.x64jqc5nu5o8"><span class="c10">5. Final Notes/Improvements</span></h1><p class="c7"><span>This tool is in no means a final version. As a Tools programmer, my job is to improve our tools as much as it is to make new ones. So if you have any ideas of tweaks or addons to this tool that would improve your usage of it, please reach out! I&rsquo;m happy to listen to any tool ideas or how I can make my current tools better! If you have any issues using the tool, please reach out and I can do my best to help!</span></p><div><p class="c4 c9"><span class="c15"></span></p></div></body></html>